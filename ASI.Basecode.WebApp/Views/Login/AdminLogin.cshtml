@model ASI.Basecode.WebApp.Models.AdminLoginViewModel

@{
    Layout = "~/Views/Shared/Layouts/_LayoutLogin.cshtml";
    ViewData["Title"] = "Admin Login";
}

@section styles {
    <link rel="stylesheet" href="~/css/user-login.css" />
}

<div class="auth-wall" style="--side:form-right;">
    <div class="glass-stage">
        <!-- LEFT: FROSTED GLASS BRAND PANEL -->
        <div class="pane pane-brand">
            <div class="brand-card">
                <img src="~/img/MarkUp-login.png" class="hero-logo" alt="MarkUP Logo">
                <div class="tagline">STUDENT PERFORMANCE TRACKER</div>
                <p class="subcopy">
                    Empowering institutions through<br />
                    intelligent performance tracking
                </p>
            </div>
        </div>

        <!-- RIGHT: SOLID WHITE FORM PANEL -->
        <div class="pane pane-form">
            <div class="mini-brand">
                <img src="~/img/MarkUPLogo.png" alt="MarkUP Logo" />
            </div>

            <div class="welcome">
                <div class="eyebrow">WELCOME TO</div>
                <h2 class="portal-title">ADMIN PORTAL</h2>
            </div>

            <form asp-controller="Login" asp-action="AdminLogin" method="post" class="form-stack" novalidate>
                @Html.AntiForgeryToken()

                <div class="notched-field with-icon id">
                    <input asp-for="IdNumber" id="idNumber" placeholder=" " required />
                    <label for="idNumber">ID Number</label>
                    <span asp-validation-for="IdNumber" class="val text-danger"></span>
                </div>

                <div class="notched-field with-icon pw">
                    <input asp-for="Password" id="Password" type="password" placeholder=" " required />
                    <label for="Password">Password</label>
                    <span asp-validation-for="Password" class="val text-danger"></span>
                </div>

                <div class="row options">
                    <label class="remember">
                        <input asp-for="RememberMe" type="checkbox" />
                        <span>Remember Me</span>
                    </label>
                    <a class="muted" href="#" data-open="fpModal">Forgot Password?</a>
                </div>

                <button type="submit" class="btn-primary">
                    <svg class="btn-ico" viewBox="0 0 24 24" aria-hidden="true">
                        <path
                            d="M10 17l5-5-5-5v10zM19 19H5V5h6V3H5c-1.1 0-2 .9-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-6h-2v6z" />
                    </svg>
                    Login
                </button>

                @{
                    var topErrors = ViewData.ModelState[string.Empty]?.Errors;
                    if (topErrors != null && topErrors.Count > 0)
                    {
                        <div class="val text-danger">@topErrors[0].ErrorMessage</div>
                    }
                }
            </form>

        </div>
    </div>
</div>

<partial name="Partials/_ForgotPasswordModal" />
<partial name="Partials/_ShowSuspendAccountModal" />


@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    @if (ViewData["ShowSuspendAccountModal"] as bool? == true)
    {
        <script>
            // If the suspend modal JS is already loaded, open it now.
            // Otherwise, the partial script will auto-open when it loads.
            window.__openSuspendedModal = true;
            if (window.showSuspendModal) {
                window.showSuspendModal();
            }
        </script>
    }
}