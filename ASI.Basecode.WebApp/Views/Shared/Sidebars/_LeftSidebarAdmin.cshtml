@{
    Layout = null;

    var currentController = (ViewContext.RouteData.Values["controller"]?.ToString() ?? "");
    var currentAction = (ViewContext.RouteData.Values["action"]?.ToString() ?? "");

    // returns "active" when controller/action match; pass null to ignore action check
    Func<string, string, string> isActive = (ctrl, act) =>
    {
        bool ctrlMatch = string.Equals(currentController, ctrl, System.StringComparison.OrdinalIgnoreCase);
        bool actMatch = act == null || string.Equals(currentAction, act, System.StringComparison.OrdinalIgnoreCase);
        return (ctrlMatch && actMatch) ? "active" : "";
    };
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Admin Sidebar</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="~/css/main-site.css" />
</head>
<body>
    <nav class="sidebar d-flex flex-column align-items-center py-3">
        <ul class="nav flex-column flex-grow-1 text-center">

            <li class="nav-item">
                <a class="nav-link @isActive("Admin", "Dashboard")" asp-controller="Admin" asp-action="Dashboard">
                    <span class="icon-wrap">
                        <i class="bi bi-house icon-outline"></i>
                        <i class="bi bi-house-fill icon-fill"></i>
                    </span>
                </a>
            </li>

            <li class="nav-item">

                <!-- AdminAccountsController.Index -->
                <a class="nav-link @isActive("AdminAccounts", "Index")"
                   asp-controller="AdminAccounts" asp-action="Index" asp-route-tab="students">

                    <span class="icon-wrap">
                        <i class="bi bi-people icon-outline"></i>
                        <i class="bi bi-people-fill icon-fill"></i>
                    </span>
                </a>
            </li>

            <li class="nav-item">
                <!-- ✅ Go directly to AdminCoursesController.Index -->
                <a class="nav-link @isActive("AdminCourses", "Index")"
                   asp-controller="AdminCourses" asp-action="Index">
                    <span class="icon-wrap">
                        <i class="bi bi-book icon-outline"></i>
                        <i class="bi bi-book-fill icon-fill"></i>
                    </span>
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link @isActive("Admin", "Classes")" asp-controller="Admin" asp-action="Classes">
                    <span class="icon-wrap">
                        <i class="bi bi-building icon-outline"></i>
                        <i class="bi bi-building-fill icon-fill"></i>
                    </span>
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link @isActive("Admin", "Calendar")" asp-controller="Admin" asp-action="Calendar">
                    <span class="icon-wrap">
                        <i class="bi bi-calendar-event icon-outline"></i>
                        <i class="bi bi-calendar-event-fill icon-fill"></i>
                    </span>
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link @isActive("Admin", "Reports")" asp-controller="Admin" asp-action="Reports">
                    <span class="icon-wrap">
                        <i class="bi bi-bar-chart icon-outline"></i>
                        <i class="bi bi-bar-chart-fill icon-fill"></i>
                    </span>
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link @isActive("Admin", "Notifications")" asp-controller="Admin" asp-action="Notifications">
                    <span class="icon-wrap">
                        <i class="bi bi-bell icon-outline"></i>
                        <i class="bi bi-bell-fill icon-fill"></i>
                    </span>
                </a>
            </li>
        </ul>

        <div class="logout">
            <form asp-controller="Login" asp-action="AdminLogout" method="post">
                <button type="submit">
                    <span class="icon-wrap">
                        <i class="bi bi-box-arrow-right icon-outline"></i>
                        <i class="bi bi-box-arrow-right icon-fill"></i>
                    </span>
                    <div>Logout</div>
                </button>
            </form>
        </div>
    </nav>
</body>
</html>
